@page "/flights"

@*Flight Finder dropdown*@
<h4>Flight Finder</h4>

<label>From: </label> 
<select>
	<option value="any">Any</option>
	@foreach (Airport airport in airportList)
	{
		<option value="@airport.Code" placeholder="Any">@airport.Name</option>
	}
</select>

<label>To: </label>
<select>
	<option value="any">Any</option>
	@foreach (Airport airport in airportList)
	{
		<option value="@airport.Code" placeholder="Any">@airport.Name</option>
	}
</select>



<div class="form-group">
	<label>Day:</label>
	<select class="form-select" @bind="filterDay">
		@foreach (string day in days)
		{
			<option>@day</option>
		}
	</select>

</div>
<button @onclick="Filter">Find Flights</button>

<h4>Flights</h4>
<select class="form-select">
	@if (filter == 0)
	{
		<span>Loading...</span>
	}
	else
	{
		@foreach (Flight flight in flights)
		{
			<option>@flight</option>
		}
	}
</select>

<h4>Reserve</h4>
<label>Flight code: </label>
<label>Airline: </label>
<label>Day: </label>
<label>Time: </label>
<label>Cost: </label>
<label>Name: </label>
<label>Citizenship</label>
<button type="submit" class="btn btn-primary" >Reserve</button>

<label>Reservation Code</label>



@code {
	// for dropdown list of airports
	List<Airport> airportList = AirportManager.GetAirports(); 
	AirportManager airportManager = new AirportManager();
	string[] days = { "Any", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday" };
	string from = "Any";
	string to="Any";
	string filterDay = "Any";
	int filter = 0;
	List<Flight> flights;
	private void Filter()
	{
		flights=FlightManager.FindFlights(from, to, filterDay);
		filter++;
	}
	
}
